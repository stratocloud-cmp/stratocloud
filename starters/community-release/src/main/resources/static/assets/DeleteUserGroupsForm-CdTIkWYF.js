import{_ as $}from"./TenantTreeSelector-D1-Nh39D.js";import{_ as k}from"./TagValueSelectorGroup-ARuF-rHD.js";import{a7 as G,r as f,y as F,o as g,q as _,w as t,e as o,u,E as i,f as c,v as M,j as I,ab as y,d as q,t as x,n as R}from"./index-CGSAaZ7c.js";import{_ as E}from"./UserSelector-D6CrvvR3.js";import{_ as C}from"./StratoPagingSelector-BVtmGqMc.js";import{s as D}from"./request-BLvKnTIl.js";const H={__name:"CreateUserGroupForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(m,{expose:v}){const e=G(m,"modelValue"),s=f();v({validate:V});function V(r){s.value.validate(r)}const n=f(),d=f({tenantId:[{required:!0,message:"请选择所属租户"}],name:[{required:!0,message:"请输入用户组名称"}],alias:[{required:!0,message:"请输入用户组别名"}],tags:[{validator:(r,a,l)=>{var p;return(p=n.value)==null?void 0:p.validate(r,a,l)},trigger:"change"}]});return F(()=>{}),(r,a)=>(g(),_(u(I),{ref_key:"formRef",ref:s,model:e.value,"label-position":"top",rules:d.value},{default:t(()=>[o(u(i),{label:"所属租户",prop:"tenantId"},{default:t(()=>[o($,{modelValue:e.value.tenantId,"onUpdate:modelValue":a[0]||(a[0]=l=>e.value.tenantId=l)},null,8,["modelValue"])]),_:1}),o(u(i),{label:"名称",prop:"name"},{default:t(()=>[o(u(c),{modelValue:e.value.name,"onUpdate:modelValue":a[1]||(a[1]=l=>e.value.name=l),placeholder:"请输入用户组名称"},null,8,["modelValue"])]),_:1}),o(u(i),{label:"别名",prop:"alias"},{default:t(()=>[o(u(c),{modelValue:e.value.alias,"onUpdate:modelValue":a[2]||(a[2]=l=>e.value.alias=l),placeholder:"请输入用户组别名"},null,8,["modelValue"])]),_:1}),o(u(i),{label:"标签",prop:"tags"},{default:t(()=>[e.value.tags?(g(),_(k,{key:0,ref_key:"tagRef",ref:n,modelValue:e.value.tags,"onUpdate:modelValue":a[3]||(a[3]=l=>e.value.tags=l),"entry-paging-request":{userGroupTaggable:!0},"default-add-all-entries":!1},null,8,["modelValue"])):M("",!0)]),_:1}),o(u(i),{label:"描述",prop:"description"},{default:t(()=>[o(u(c),{type:"textarea",modelValue:e.value.description,"onUpdate:modelValue":a[4]||(a[4]=l=>e.value.description=l),placeholder:"请输入描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]))}},B=m=>D({url:"/identity-service/describe-groups",method:"post",data:m}),w={style:{float:"left"}},S={style:{float:"right",color:"grey"}},b={__name:"UserGroupSelector",props:y({allGroups:{required:!1,type:Boolean,default:!1},multiple:{required:!1,type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:y(["change"],["update:modelValue"]),setup(m,{emit:v}){const e=m,s=G(m,"modelValue"),V=f({allGroups:e.allGroups}),n=v;function d(r){n("change",r)}return(r,a)=>(g(),_(C,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l),"paging-request":V.value,"label-getter":l=>l.name,"remote-method":u(B),placeholder:"请选择用户组",onChange:d,multiple:m.multiple,"id-filter-key":"userGroupIds",teleported:""},{default:t(l=>[q("span",w,x(l.row.name),1),q("span",S,x(l.row.alias),1)]),_:1},8,["modelValue","paging-request","label-getter","remote-method","multiple"]))}},K={__name:"InviteUserForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(m,{expose:v}){const e=G(m,"modelValue"),s=f();function V(n){s.value.validate(n)}return v({validate:V}),(n,d)=>{const r=R("ElFormItem"),a=R("ElForm");return g(),_(a,{ref_key:"formRef",ref:s,model:e.value},{default:t(()=>[o(r,{prop:"userGroupId",label:"用户组"},{default:t(()=>[o(b,{modelValue:e.value.userGroupId,"onUpdate:modelValue":d[0]||(d[0]=l=>e.value.userGroupId=l)},null,8,["modelValue"])]),_:1}),o(r,{prop:"userIds",label:"新成员"},{default:t(()=>[o(E,{multiple:"",modelValue:e.value.userIds,"onUpdate:modelValue":d[1]||(d[1]=l=>e.value.userIds=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}},L={__name:"JoinUserGroupForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(m,{expose:v}){const e=G(m,"modelValue"),s=f();v({validate:V});function V(d){s.value.validate(d)}const n=f({userGroupId:[{required:!0,message:"请选择用户组"}]});return(d,r)=>(g(),_(u(I),{ref_key:"formRef",ref:s,model:e.value,"label-position":"top",rules:n.value},{default:t(()=>[o(u(i),{label:"加入用户组",prop:"userGroupId"},{default:t(()=>[o(b,{"all-groups":"",modelValue:e.value.userGroupId,"onUpdate:modelValue":r[0]||(r[0]=a=>e.value.userGroupId=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]))}},O={__name:"UpdateUserGroupForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(m,{expose:v}){const e=G(m,"modelValue"),s=f();v({validate:V});function V(a){s.value.validate(a)}const n=f(),d=f({userGroupId:[{required:!0,message:"请选择用户组"}],name:[{required:!0,message:"请输入用户组名称"}],alias:[{required:!0,message:"请输入用户组别名"}],tags:[{validator:(a,l,p)=>{var U;return(U=n.value)==null?void 0:U.validate(a,l,p)},trigger:"change"}]});function r(a){e.value.name=a.name,e.value.alias=a.alias,e.value.description=a.description,e.value.tags=a.tags?a.tags:[]}return F(()=>{}),(a,l)=>(g(),_(u(I),{ref_key:"formRef",ref:s,model:e.value,"label-position":"top",rules:d.value},{default:t(()=>[o(u(i),{label:"所选用户组",prop:"userGroupId"},{default:t(()=>[o(b,{modelValue:e.value.userGroupId,"onUpdate:modelValue":l[0]||(l[0]=p=>e.value.userGroupId=p),onChange:r},null,8,["modelValue"])]),_:1}),o(u(i),{label:"名称",prop:"name"},{default:t(()=>[o(u(c),{modelValue:e.value.name,"onUpdate:modelValue":l[1]||(l[1]=p=>e.value.name=p),placeholder:"请输入用户组名称"},null,8,["modelValue"])]),_:1}),o(u(i),{label:"别名",prop:"alias"},{default:t(()=>[o(u(c),{modelValue:e.value.alias,"onUpdate:modelValue":l[2]||(l[2]=p=>e.value.alias=p),placeholder:"请输入用户组别名"},null,8,["modelValue"])]),_:1}),o(u(i),{label:"标签",prop:"tags"},{default:t(()=>[e.value.tags?(g(),_(k,{key:0,ref_key:"tagRef",ref:n,modelValue:e.value.tags,"onUpdate:modelValue":l[3]||(l[3]=p=>e.value.tags=p),"entry-paging-request":{userGroupTaggable:!0},"default-add-all-entries":!1},null,8,["modelValue"])):M("",!0)]),_:1}),o(u(i),{label:"描述",prop:"description"},{default:t(()=>[o(u(c),{type:"textarea",modelValue:e.value.description,"onUpdate:modelValue":l[4]||(l[4]=p=>e.value.description=p),placeholder:"请输入描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]))}},P={__name:"DeleteUserGroupsForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(m,{expose:v}){const e=G(m,"modelValue"),s=f();v({validate:V});function V(d){s.value.validate(d)}const n=f({userGroupIds:[{required:!0,message:"请选择用户组"}]});return(d,r)=>(g(),_(u(I),{ref_key:"formRef",ref:s,model:e.value,"label-position":"top",rules:n.value},{default:t(()=>[o(u(i),{label:"待删除用户组",prop:"userGroupIds"},{default:t(()=>[o(b,{multiple:"",modelValue:e.value.userGroupIds,"onUpdate:modelValue":r[0]||(r[0]=a=>e.value.userGroupIds=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]))}};export{b as _,P as a,O as b,L as c,K as d,H as e,B as f};
