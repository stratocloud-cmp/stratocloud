import{n as f,o as a,b as v,B as h,q as r,w as n,d,t as l,Y as B,e as V,a8 as E,F as y,v as m,r as T,a3 as L,a6 as q}from"./index-CGSAaZ7c.js";import{_ as k}from"./StratoButton-BbyvpoLv.js";import{k as N,l as R}from"./resource-ChSpNJ4i.js";import{_ as D}from"./StratoDrawer-SANI4yOp.js";import{_ as I}from"./TagValueSelectorGroup-ARuF-rHD.js";const F={style:{display:"flex","flex-wrap":"nowrap"}},K={class:"in-list-overflow"},O={style:{"max-width":"150px"}},$={__name:"ResourceRuntimeProperties",props:{resource:{required:!0,type:Object},inList:{required:!1,type:Boolean}},setup(e){return(_,o)=>{const i=f("ElTag"),g=f("ElTooltip");return e.resource.runtimeProperties&&e.resource.runtimeProperties.length>0?(a(!0),v(y,{key:0},h(e.resource.runtimeProperties,t=>(a(),r(g,{disabled:e.inList},{content:n(()=>[d("div",O,l(t.valueName),1)]),default:n(()=>[B(V(i,{type:"info"},{default:n(()=>[d("div",F,[d("div",K,l(t.keyName)+": "+l(t.valueName),1)])]),_:2},1536),[[E,t.displayable&&(!e.inList||t.displayInList)]])]),_:2},1032,["disabled"]))),256)):m("",!0)}}},W=k($,[["__scopeId","data-v-f5352238"]]),j={__name:"ResourceTags",props:{resource:{required:!0,type:Object},inList:{required:!1,default:!1,type:Boolean}},emits:["refresh"],setup(e,{emit:_}){const o=e,i=_;function g(p){N({resourceId:o.resource.id,tagKey:p.tagKey,tagValue:p.tagValue}).then(()=>{i("refresh")})}const t=T(!1),u=T();function w(){u.value={resourceId:o.resource.id,tags:[]},t.value=!0}function C(){R(u.value).then(()=>{i("refresh"),t.value=!1})}return(p,c)=>{const b=f("ElTag"),x=f("ElButton");return a(),v(y,null,[o.resource.tags&&o.resource.tags.length>0?(a(!0),v(y,{key:0},h(o.resource.tags,s=>(a(),r(b,{type:"info",closable:!e.inList,onClose:()=>g(s)},{default:n(()=>[d("div",{class:L(e.inList?"in-list-overflow":void 0)},l(s.tagKeyName)+": "+l(s.tagValueName),3)]),_:2},1032,["closable","onClose"]))),256)):m("",!0),e.inList?m("",!0):(a(),r(x,{key:1,style:{float:"right"},link:"",type:"primary",icon:"plus",onClick:w})),(a(),r(q,{to:"body"},[V(D,{title:"绑定标签: "+e.resource.name,modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=s=>t.value=s),onOnConfirm:C},{default:n(()=>[t.value?(a(),r(I,{key:0,modelValue:u.value.tags,"onUpdate:modelValue":c[0]||(c[0]=s=>u.value.tags=s),"entry-paging-request":{requiredWhenCreating:!0,resourceCategories:[e.resource.category]},"default-add-all-entries":!0},null,8,["modelValue","entry-paging-request"])):m("",!0)]),_:1},8,["title","modelValue"])]))],64)}}},Y=k(j,[["__scopeId","data-v-86579a11"]]);export{Y as R,W as a};
