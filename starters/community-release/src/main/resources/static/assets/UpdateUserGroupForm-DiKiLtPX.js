import{_ as M}from"./TenantTreeSelector-DrVO4R-0.js";import{_ as k}from"./TagValueSelectorGroup-kSkYehu4.js";import{a8 as I,r as f,y as F,o as g,q as _,w as t,e as o,u,E as i,f as c,v as E,j as b,ac as y,d as q,t as x,n as R}from"./index-C_jnbPMf.js";import{_ as $}from"./UserSelector-Bks_jgjv.js";import{_ as C}from"./StratoPagingSelector-BY9rDrJk.js";import{s as D}from"./request-BV6gXtmx.js";const H={__name:"CreateUserGroupForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(m,{expose:v}){const e=I(m,"modelValue"),s=f();v({validate:V});function V(r){s.value.validate(r)}const p=f(),n=f({tenantId:[{required:!0,message:"请选择所属租户"}],name:[{required:!0,message:"请输入用户组名称"}],alias:[{required:!0,message:"请输入用户组别名"}],tags:[{validator:(r,a,l)=>{var d;return(d=p.value)==null?void 0:d.validate(r,a,l)},trigger:"change"}]});return F(()=>{}),(r,a)=>(g(),_(u(b),{ref_key:"formRef",ref:s,model:e.value,"label-position":"top",rules:n.value},{default:t(()=>[o(u(i),{label:"所属租户",prop:"tenantId"},{default:t(()=>[o(M,{modelValue:e.value.tenantId,"onUpdate:modelValue":a[0]||(a[0]=l=>e.value.tenantId=l)},null,8,["modelValue"])]),_:1}),o(u(i),{label:"名称",prop:"name"},{default:t(()=>[o(u(c),{modelValue:e.value.name,"onUpdate:modelValue":a[1]||(a[1]=l=>e.value.name=l),placeholder:"请输入用户组名称"},null,8,["modelValue"])]),_:1}),o(u(i),{label:"别名",prop:"alias"},{default:t(()=>[o(u(c),{modelValue:e.value.alias,"onUpdate:modelValue":a[2]||(a[2]=l=>e.value.alias=l),placeholder:"请输入用户组别名"},null,8,["modelValue"])]),_:1}),o(u(i),{label:"标签",prop:"tags"},{default:t(()=>[e.value.tags?(g(),_(k,{key:0,ref_key:"tagRef",ref:p,modelValue:e.value.tags,"onUpdate:modelValue":a[3]||(a[3]=l=>e.value.tags=l),"entry-paging-request":{userGroupTaggable:!0},"default-add-all-entries":!1},null,8,["modelValue"])):E("",!0)]),_:1}),o(u(i),{label:"描述",prop:"description"},{default:t(()=>[o(u(c),{type:"textarea",modelValue:e.value.description,"onUpdate:modelValue":a[4]||(a[4]=l=>e.value.description=l),placeholder:"请输入描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]))}},w=m=>D({url:"/identity-service/describe-groups",method:"post",data:m}),B={style:{float:"left"}},S={style:{float:"right",color:"grey"}},G={__name:"UserGroupSelector",props:y({allGroups:{required:!1,type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:y(["change"],["update:modelValue"]),setup(m,{emit:v}){const e=m,s=I(m,"modelValue"),V=f({allGroups:e.allGroups}),p=v;function n(r){p("change",r)}return(r,a)=>(g(),_(C,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l),"paging-request":V.value,"label-getter":l=>l.name,"remote-method":u(w),placeholder:"请选择用户组",onChange:n},{default:t(l=>[q("span",B,x(l.row.name),1),q("span",S,x(l.row.alias),1)]),_:1},8,["modelValue","paging-request","label-getter","remote-method"]))}},K={__name:"InviteUserForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(m,{expose:v}){const e=I(m,"modelValue"),s=f();function V(p){s.value.validate(p)}return v({validate:V}),(p,n)=>{const r=R("ElFormItem"),a=R("ElForm");return g(),_(a,{ref_key:"formRef",ref:s,model:e.value},{default:t(()=>[o(r,{prop:"userGroupId",label:"用户组"},{default:t(()=>[o(G,{modelValue:e.value.userGroupId,"onUpdate:modelValue":n[0]||(n[0]=l=>e.value.userGroupId=l)},null,8,["modelValue"])]),_:1}),o(r,{prop:"userIds",label:"新成员"},{default:t(()=>[o($,{multiple:"",modelValue:e.value.userIds,"onUpdate:modelValue":n[1]||(n[1]=l=>e.value.userIds=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}},L={__name:"JoinUserGroupForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(m,{expose:v}){const e=I(m,"modelValue"),s=f();v({validate:V});function V(n){s.value.validate(n)}const p=f({userGroupId:[{required:!0,message:"请选择用户组"}]});return(n,r)=>(g(),_(u(b),{ref_key:"formRef",ref:s,model:e.value,"label-position":"top",rules:p.value},{default:t(()=>[o(u(i),{label:"加入用户组",prop:"userGroupId"},{default:t(()=>[o(G,{"all-groups":"",modelValue:e.value.userGroupId,"onUpdate:modelValue":r[0]||(r[0]=a=>e.value.userGroupId=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]))}},O={__name:"UpdateUserGroupForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(m,{expose:v}){const e=I(m,"modelValue"),s=f();v({validate:V});function V(a){s.value.validate(a)}const p=f(),n=f({userGroupId:[{required:!0,message:"请选择用户组"}],name:[{required:!0,message:"请输入用户组名称"}],alias:[{required:!0,message:"请输入用户组别名"}],tags:[{validator:(a,l,d)=>{var U;return(U=p.value)==null?void 0:U.validate(a,l,d)},trigger:"change"}]});function r(a){e.value.name=a.name,e.value.alias=a.alias,e.value.description=a.description,e.value.tags=a.tags?a.tags:[]}return F(()=>{}),(a,l)=>(g(),_(u(b),{ref_key:"formRef",ref:s,model:e.value,"label-position":"top",rules:n.value},{default:t(()=>[o(u(i),{label:"所选用户组",prop:"userGroupId"},{default:t(()=>[o(G,{modelValue:e.value.userGroupId,"onUpdate:modelValue":l[0]||(l[0]=d=>e.value.userGroupId=d),onChange:r},null,8,["modelValue"])]),_:1}),o(u(i),{label:"名称",prop:"name"},{default:t(()=>[o(u(c),{modelValue:e.value.name,"onUpdate:modelValue":l[1]||(l[1]=d=>e.value.name=d),placeholder:"请输入用户组名称"},null,8,["modelValue"])]),_:1}),o(u(i),{label:"别名",prop:"alias"},{default:t(()=>[o(u(c),{modelValue:e.value.alias,"onUpdate:modelValue":l[2]||(l[2]=d=>e.value.alias=d),placeholder:"请输入用户组别名"},null,8,["modelValue"])]),_:1}),o(u(i),{label:"标签",prop:"tags"},{default:t(()=>[e.value.tags?(g(),_(k,{key:0,ref_key:"tagRef",ref:p,modelValue:e.value.tags,"onUpdate:modelValue":l[3]||(l[3]=d=>e.value.tags=d),"entry-paging-request":{userGroupTaggable:!0},"default-add-all-entries":!1},null,8,["modelValue"])):E("",!0)]),_:1}),o(u(i),{label:"描述",prop:"description"},{default:t(()=>[o(u(c),{type:"textarea",modelValue:e.value.description,"onUpdate:modelValue":l[4]||(l[4]=d=>e.value.description=d),placeholder:"请输入描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]))}};export{G as _,O as a,L as b,K as c,H as d,w as e};
