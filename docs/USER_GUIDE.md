# 目录
* [1 系统管理](#1-系统管理)
  * [1.1 租户管理](#11-租户管理)
  * [1.2 用户管理](#12-用户管理)
  * [1.3 角色管理](#13-角色管理)
  * [1.4 用户组管理](#14-用户组管理)
  * [1.5 审计日志](#15-审计日志)
* [2 云管理](#2-云管理)
  * [2.1 云账号](#21-云账号)
  * [2.2 标签管理](#22-标签管理)
  * [2.3 IP池](#23-IP池)
  * [2.4 脚本库](#24-脚本库)
  * [2.5 软件库](#25-软件库)
* [3 云资源](#3-云资源)
  * [3.1 纳管/解除纳管](#31-纳管解除纳管)
  * [3.2 创建](#32-创建)
  * [3.3 回收/还原](#33-回收还原)
  * [3.4 同步](#34-同步)
  * [3.5 移交](#35-移交)
  * [3.6 认领](#36-认领)
  * [3.7 查看详情](#37-查看详情)
  * [3.8 资源关系](#38-资源关系)
  * [3.9 其他操作](#39-其他操作)
* [4 工单与任务](#4-工单与任务)
  * [4.1 工单](#41-工单)
  * [4.2 任务](#42-任务)
  * [4.3 待办任务](#43-待办任务)
  * [4.4 流程管理](#44-流程管理)
  * [4.5 任务类型](#45-任务类型)
  * [4.6 定时任务](#46-定时任务)

# 1 系统管理
## 1.1 租户管理
StratoCloud会自动创建一个`默认租户`，此租户为根租户且不可被删除 (根租户有且只能有一个)，不过您可以根据需要修改此租户的名称。
* 创建租户
  * 进入`系统管理/租户管理`菜单，点击`创建`按钮
  * 在创建租户后，规则默认沿用父租户的规则，您也可以配置该租户的特有规则
* 编辑租户
  * 进入`系统管理/租户管理`菜单，选中需要编辑的租户，点击`编辑`按钮
* 禁用租户
  * 进入`系统管理/租户管理`菜单，选中需要禁用的租户，点击`禁用`按钮
  * 禁用租户后，该租户下的所有子租户及后代均会被禁用，被禁用的租户下的用户将无法登录
* 启用租户
  * 进入`系统管理/租户管理`菜单，选中需要启用的租户，点击`启用`按钮
  * 启用租户后，该租户下的所有子租户及后代均会被启用
* 删除租户
  * 进入`系统管理/租户管理`菜单，选中需要删除的租户，点击`删除`按钮
  * 若租户下存在用户、角色、用户组、子租户，则不能被删除。此外，根租户也不可被删除
* 规则管理
  * 进入`系统管理/租户管理`菜单，列表中找到租户，右侧点击`规则管理`按钮
  * 您可以创建、编辑和删除租户下的规则，规则内容由JavaScript脚本定义
* 配额上限
  * 进入`系统管理/租户管理`菜单，列表中找到租户，右侧点击`配额上限`按钮
  * 您可以创建、编辑、启用、禁用和删除租户下的配额上限
## 1.2 用户管理
StratoCloud会自动创建两个用户: `super_admin`和`system`，其中`super_admin`为供管理员使用的内置用户，`system`用于StratoCloud自身执行自动化任务，这两个用户无法被删除
* 创建用户
  * 进入`系统管理/用户管理`菜单，点击`创建`按钮
* 编辑用户
  * 进入`系统管理/用户管理`菜单，选中需要编辑的用户，点击`编辑`按钮
* 关联角色
  * 进入`系统管理/用户管理`菜单，选中需要关联角色的用户，点击`关联角色`按钮，在弹出角色列表的`关联状态`列可直接更改用户与角色的关联状态
* 修改密码
  * 进入`系统管理/用户管理`菜单，选中需要修改密码的用户，点击`修改密码`按钮
* 启用
  * 进入`系统管理/用户管理`菜单，选中需要启用的用户，点击`启用`按钮
* 解锁
  * 用户登录失败累计5次后将被锁定，您可以进入`系统管理/用户管理`菜单，选中需要解锁的用户，点击`解锁`按钮
* 禁用
  * 进入`系统管理/用户管理`菜单，选中需要禁用的用户，点击`禁用`按钮。被禁用的用户将无法登录
* 删除
  * 进入`系统管理/用户管理`菜单，选中需要删除的用户，点击`删除`按钮。用户删除后，其名下的云资源将被移交给`system`用户
## 1.3 角色管理
StratoCloud会自动创建一个`超级管理员`角色并关联到`super_admin`和`system`这两个用户
* 创建角色
  * 进入`系统管理/角色管理`菜单，点击`创建`按钮
* 编辑角色
  * 进入`系统管理/角色管理`菜单，选中需要编辑的角色，点击`编辑`按钮
* 关联用户
  * 进入`系统管理/角色管理`菜单，选中需要关联用户的角色，点击`关联用户`按钮，在弹出用户列表的`关联状态`列可直接更改角色与用户的关联状态
* 关联权限
  * 进入`系统管理/角色管理`菜单，选中需要关联用户的角色，点击`关联权限`按钮，在弹出的权限菜单中可直接修改角色的权限
* 删除角色
  * 进入`系统管理/角色管理`菜单，选中需要删除的角色，点击`删除`按钮
## 1.4 用户组管理
* 创建用户组
  * 进入`系统管理/用户组管理`菜单，点击`创建`按钮。注意，用户组配置了资源标签后才能发挥实际作用
* 更新
  * 进入`系统管理/用户组管理`菜单，选中需要更新的用户组，点击`更新`按钮
* 成员管理
  * 进入`系统管理/用户组管理`菜单，选中需要进行成员管理的用户组，点击`成员管理`按钮，您可以在弹出的成员列表中添加和移除用户组成员
* 删除
  * 进入`系统管理/用户组管理`菜单，选中需要删除的角色，点击`删除`按钮
## 1.5 审计日志
进入`系统管理/审计日志`菜单，即可查看审计日志列表，点击列表项中的操作名称可查看该条审计日志的详情
# 2 云管理
## 2.1 云账号
* 创建云账号
  * 进入`云管理/云账号`菜单，点击`创建`按钮
  * 注意，创建云账号后系统不会立即同步云账号资源，您需要手动点击`同步`并等待同步任务完成后再使用
* 编辑
  * 进入`云管理/云账号`菜单，选中需要编辑的云账号，点击`编辑`按钮
* 同步
  * 进入`云管理/云账号`菜单，选中需要同步的云账号，点击`同步`按钮
  * 同步任务耗时较长，您可以点击右上角第一个图标查看任务进度
  * 同步任务完成后，即可前往`云资源`菜单查看已被纳管的云资源
  * 注意，云账号的`同步`仅会检查该账号的连接状态、余额和账号下尚未被纳管的云资源，对于已纳管的云资源则不会触发其资源状态的同步
  * 云资源纳管成功后默认归属于`system`用户，其他用户可[认领](#36-认领)归属于`system`用户的资源
* 启用
  * 进入`云管理/云账号`菜单，选中需要启用的云账号，点击`启用`按钮
* 禁用
  * 进入`云管理/云账号`菜单，选中需要禁用的云账号，点击`禁用`按钮
  * 云账号被禁用后，将无法在创建资源时被选择，也不会再自动同步账号状态和资源状态
* 删除
  * 进入`云管理/云账号`菜单，选中需要删除的云账号，点击`删除`按钮
  * 若云账号下仍有资源存在，则不能被删除
## 2.2 标签管理
* 创建标签
  * 进入`云管理/标签管理`菜单，点击`创建`按钮
* 管理标签值
  * 进入`云管理/标签管理`菜单，选中需要管理标签值的标签，点击`管理标签值`按钮
  * 在弹出的标签值列表页面，您可以新增和删除标签值
* 更新
  * 进入`云管理/标签管理`菜单，选中需要更新的标签，点击`更新`按钮
* 删除
  * 进入`云管理/标签管理`菜单，选中需要删除的标签，点击`删除`按钮
## 2.3 IP池
* 创建IP池
  * 进入`云管理/IP池`菜单，点击`创建`按钮
* 管理IP
  * 进入`云管理/IP池`菜单，找到需要操作的IP池，点击`名称`列右边的`管理IP`按钮
  * 在弹出的IP管理页面中，您可以新建或删除IP范围，并且可以释放或排除某一批IP
  * 注意，StratoCloud在为云资源分配IP时，若某IP可被PING通，则本次分配会失败，且该IP会自动变成`已排除`状态
* 修改基本信息
  * 进入`云管理/IP池`菜单，选中需要修改的IP池，点击`修改基本信息`按钮
* 关联网络
  * 进入`云管理/IP池`菜单，选中需要关联网络的IP池，点击`关联网络`按钮
  * 注意，只有关联了网络资源(子网)后，配置的IP池才有意义
* 删除IP池
  * 进入`云管理/IP池`菜单，选中需要删除的IP池，点击`删除`按钮
## 2.4 脚本库
* 新建脚本定义
  * 进入`云管理/脚本库`菜单，点击`新建`按钮
  * 若勾选`公用脚本`选项，则创建的脚本定义可以被租户下的其他用户使用
  * 若勾选`在依赖目标中可见`选项，则创建的脚本定义可以在创建云主机时直接被使用，否则只能用于已创建的云主机
  * 在创建第一个脚本定义后，会出现`云资源/运维自动化/初始化脚本`菜单，在该页面可查看和执行脚本
  * 具体脚本的编写可参考[最佳实践](BEST_PRACTICES.md)
* 编辑脚本定义
  * 进入`云管理/脚本库`菜单，选中需要编辑的脚本，点击`编辑`按钮
* 启用脚本定义
  * 进入`云管理/脚本库`菜单，选中需要启用的脚本，点击`启用`按钮
* 禁用脚本定义
  * 进入`云管理/脚本库`菜单，选中需要禁用的脚本，点击`禁用`按钮
* 删除脚本定义
  * 进入`云管理/脚本库`菜单，选中需要删除的脚本，点击`删除`按钮
## 2.5 软件库
* 新建软件定义
  * 进入`云管理/软件库`菜单，点击`新建`按钮
  * 若勾选`公用软件`选项，则创建的软件定义可以被租户下的其他用户使用
  * 若勾选`在依赖目标中可见`选项，则创建的软件定义可以在创建云主机时直接被使用，否则只能用于已创建的云主机
  * 在创建第一个软件定义后，会出现`云资源/运维自动化/软件`菜单，在该页面可查看、创建、启停、配置、销毁软件实例
  * 软件操作中至少应包含一个`安装`类型的操作，且除了`配置`类型以外，其他类型的操作最多只能配置一个
  * 软件依赖中不能存在重复的依赖对象，且依赖对象不能是自身
  * 具体脚本的编写可参考[最佳实践](BEST_PRACTICES.md)
* 编辑软件定义
  * 进入`云管理/软件库`菜单，选中需要编辑的软件，点击`编辑`按钮
* 启用软件定义
  * 进入`云管理/软件库`菜单，选中需要启用的软件，点击`启用`按钮
* 禁用软件定义
  * 进入`云管理/软件库`菜单，选中需要禁用的软件，点击`禁用`按钮
* 删除软件定义
  * 进入`云管理/软件库`菜单，选中需要删除的软件，点击`删除`按钮
  * 使用中的软件定义无法被删除，您可以将该软件定义下的软件解除纳管后再删除

# 3 云资源
## 3.1 纳管/解除纳管
* 纳管云资源
  * 请使用[云账号同步](#21-云账号)一键纳管云资源
  * 云资源纳管成功后默认归属于`system`用户，其他用户可[认领](#36-认领)归属于`system`用户的资源
* 解除纳管
  * 进入对应云资源的菜单，选中需要解除纳管的云资源，点击`解除纳管`按钮
  * 解除纳管后，若云资源实际存在，下一次同步云账号时该云资源仍会被纳管，如果不想使用该资源，应该放入回收站而不是解除纳管
## 3.2 创建
* 创建云资源
  * 进入对应云资源的菜单，点击`创建`按钮
  * 并非所有类型的云资源都支持创建，例如可用区、规格、镜像等资源就是无法通过StratoCloud创建的
## 3.3 回收/还原
* 回收云资源
  * 进入对应云资源的菜单，选中需要回收的云资源，点击`回收`按钮
  * 若勾选`级联回收`选项，所有依赖此资源的资源会被一起回收
  * 若勾选`立即销毁`选项，则会对此资源执行实际的销毁操作，否则将只放入回收站，不执行实际操作
* 还原云资源
  * 进入对应云资源的菜单，点击`回收站`按钮，在回收站中选中需要还原的云资源，点击`还原`按钮
## 3.4 同步
* 同步云资源
  * 进入对应云资源的菜单，选中需要同步的云资源，点击`同步`按钮
## 3.5 移交
* 移交云资源
  * 进入对应云资源的菜单，选中需要移交的云资源，点击`移交`按钮
  * 若勾选`级联移交`选项，所有依赖此资源的资源会被一起移交
## 3.6 认领
* 认领云资源
  * 进入对应云资源的菜单，点击`认领`按钮
  * 若勾选`级联认领`选项，所有依赖此资源的资源会被一起认领
## 3.7 查看详情
* 查看资源详情
  * 进入对应云资源的菜单，点击列表项的`资源名称`，打开资源详情页
## 3.8 资源关系
* 管理资源关系
  * 进入对应云资源的菜单，点击列表项的`资源名称`，打开资源详情页，在详情页下方的资源关系列表可管理资源关系，比如云硬盘的挂载/卸载，弹性IP的绑定/解除绑定
  * 部分资源关系可进行变更操作，比如云主机依赖的规格和镜像均可被变更 (即升降配和重装操作系统)
## 3.9 其他操作
云资源的其他操作根据具体云平台和资源类型的不同而不同，在此不做详细说明
# 4 工单与任务
## 4.1 工单
* 新建工单
  * 进入`工单与任务/我的工单`菜单，点击`新建`按钮
  * 默认情况下，云资源的创建、变更、回收、移交、认领等操作均会自动新建并提交工单
* 查看详情
  * 进入工单菜单，点击列表项中的`工单编号`，打开工单详情页
  * 详情页中可再点击工单项查看工单项详情
* 查看失败原因
  * 对于失败的工单，可把鼠标放在列表项中的`⚠失败`状态标签的感叹号上以查看失败原因
* 修改工单项
  * 进入工单菜单，点击列表项中的`工单编号`，打开工单详情页，展开工单项面板，修改后点击`保存工单项`
* 确认工单
  * 进入`工单与任务/待办工单`菜单，选中需要确认的工单，点击`确认`按钮
* 取消工单
  * 进入工单菜单，选中需要取消的工单，点击`取消`按钮
* 提交工单
  * 进入工单菜单，选中需要提交的工单，点击`提交`按钮
* 克隆工单
  * 进入工单菜单，选中需要克隆的工单，点击`克隆`按钮
## 4.2 任务
* 查看详情
  * 进入`工单与任务/任务`菜单，点击列表项中的`详情`，打开详情页
  * 一个任务由`执行`、`步骤`、`子任务`三个层次组成，在详情页中展开`执行`和`步骤`面板以查看子任务进度
* 查看失败原因
  * 对于失败的任务，可把鼠标放在列表项中的`⚠失败`状态标签的感叹号上以查看失败原因
* 重试
  * 对于失败的任务，可点击列表项中的`重试`按钮进行重试
## 4.3 待办任务
* 将任务加入待办队列
  * 执行云资源的创建、变更、回收等操作时，表单填写完成后如果不想立刻提交，可点击表单左下方的`🛒加入待办队列`按钮，将该任务加入待办队列
* 查看待办队列
  * 点击StratoCloud页面右上方的`🛒`图标，您可以在弹出的待办队列中进行待办任务的提交和删除
## 4.4 流程管理
* 创建流程
  * 进入`工单与任务/流程管理`菜单，点击`创建`按钮
* 编辑流程
  * 进入`工单与任务/流程管理`菜单，选中需要编辑的流程，点击`编辑`按钮
* 删除流程
  * 进入`工单与任务/流程管理`菜单，选中需要删除的流程，点击`删除`按钮
  * 内置流程无法被删除
## 4.5 任务类型
* 对任务类型启用/禁用工单
  * 进入`工单与任务/任务类型`菜单，在任务类型列表的`启用工单`一列可对启用状态进行更改
  * 当关闭`启用工单`选项后，该类型的任务将不再自动创建工单而是直接执行
## 4.6 定时任务
* 启用/禁用定时任务
  * 进入`工单与任务/定时任务`菜单，在定时任务列表的`是否启用`一列可对启用状态进行更改
* 编辑定时任务
  * 进入`工单与任务/定时任务`菜单，点击列表项的`编辑`按钮
* 人工触发定时任务
  * 进入`工单与任务/定时任务`菜单，点击列表项的`触发一次`按钮
# 5 自维护
## 5.1 修改个人信息
点击页面右上方的第三个图标，选择`个人信息`
## 5.2 修改密码
点击页面右上方的第三个图标，选择`修改密码`
## 5.3 退出登录
点击页面右上方的第三个图标，选择`退出登录`